<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Demo - Basit GÃ¶rÃ¼nÃ¼m</title>
    <link rel="stylesheet" href="./loyalty-widget.css">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #1a202c;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #718096;
            margin-bottom: 40px;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .control-group {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
        }

        .control-group h3 {
            margin: 0 0 15px 0;
            color: #2d3748;
            font-size: 16px;
        }

        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .btn {
            padding: 8px 16px;
            border: 2px solid #cbd5e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn.active {
            background: #4f46e5;
            color: white;
            border-color: #4f46e5;
        }

        .preview-area {
            background: #f1f5f9;
            border-radius: 16px;
            padding: 60px 20px;
            text-align: center;
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }

        .site-mockup {
            background: white;
            border-radius: 12px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .site-mockup h2 {
            color: #1a202c;
            margin-bottom: 20px;
        }

        .site-mockup p {
            color: #718096;
            line-height: 1.6;
        }

        .info-badge {
            background: #edf2f7;
            color: #2d3748;
            padding: 12px 20px;
            border-radius: 8px;
            display: inline-block;
            margin-top: 20px;
            font-size: 14px;
            font-weight: 500;
        }
    </style>
</head>

<body>
    <div class="demo-container">
        <h1>ğŸ¨ Widget CanlÄ± Demo</h1>
        <p class="subtitle">AÅŸaÄŸÄ±daki butonlarla widget'Ä±n gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ deÄŸiÅŸtirin ve saÄŸ alt kÃ¶ÅŸede etkisini gÃ¶rÃ¼n!</p>

        <div class="controls">
            <!-- Tema SeÃ§imi -->
            <div class="control-group">
                <h3>ğŸ¨ Tema</h3>
                <div class="btn-group">
                    <button class="btn active" onclick="setTheme('light')">â˜€ï¸ Light</button>
                    <button class="btn" onclick="setTheme('dark')">ğŸŒ™ Dark</button>
                    <button class="btn" onclick="setTheme('gradient')">ğŸ¨ Gradient</button>
                    <button class="btn" onclick="setTheme('minimal')">âšª Minimal</button>
                </div>
            </div>

            <!-- Stil SeÃ§imi -->
            <div class="control-group">
                <h3>ğŸ­ Stil</h3>
                <div class="btn-group">
                    <button class="btn active" onclick="setStyle('default')">ğŸ¯ Default</button>
                    <button class="btn" onclick="setStyle('minimal')">â­ Minimal</button>
                    <button class="btn" onclick="setStyle('card')">ğŸƒ Card</button>
                    <button class="btn" onclick="setStyle('compact')">ğŸ“Œ Compact</button>
                </div>
            </div>

            <!-- Pozisyon -->
            <div class="control-group">
                <h3>ğŸ“ Pozisyon</h3>
                <div class="btn-group">
                    <button class="btn active" onclick="setPosition('bottom-right')">â†˜ï¸ SaÄŸ Alt</button>
                    <button class="btn" onclick="setPosition('bottom-left')">â†™ï¸ Sol Alt</button>
                    <button class="btn" onclick="setPosition('top-right')">â†—ï¸ SaÄŸ Ãœst</button>
                    <button class="btn" onclick="setPosition('top-left')">â†–ï¸ Sol Ãœst</button>
                </div>
            </div>
        </div>

        <div class="preview-area">
            <div class="site-mockup">
                <h2>ğŸ›ï¸ Ã–rnek E-Ticaret Sitesi</h2>
                <p>Bu bir Ã¶rnek Ã¼rÃ¼n sayfasÄ±. GerÃ§ek mÃ¼ÅŸterinizin sitesinde de widget <strong>aynen bÃ¶yle</strong>
                    gÃ¶rÃ¼necek.</p>
                <p>SaÄŸ alt kÃ¶ÅŸeye bakÄ±n! ğŸ‘‰ Widget'Ä± gÃ¶rebilirsiniz.</p>
                <div class="info-badge">
                    ğŸ’¡ Widget her sayfada gÃ¶rÃ¼nÃ¼r: Anasayfa, ÃœrÃ¼n, Sepet, vb.
                </div>
            </div>
        </div>
    </div>

    <!-- Widget Script -->
    <script src="./loyalty-widget.js"></script>
    <script>
        // Widget baÅŸlat - statik data ile
        window.LOYALTY_WIDGET_DATA = {
            points: 500,
            tier: 'Gold',
            nextTier: 'Platinum',
            nextTierPoints: 1000,
            discount: 50
        };

        let currentTheme = 'light';
        let currentStyle = 'default';
        let currentPosition = 'bottom-right';

        function setTheme(theme) {
            currentTheme = theme;
            updateWidget();
            updateActiveButton('theme', theme);
        }

        function setStyle(style) {
            currentStyle = style;
            updateWidget();
            updateActiveButton('style', style);
        }

        function setPosition(position) {
            currentPosition = position;
            updateWidget();
            updateActiveButton('position', position);
        }

        function updateWidget() {
            // Widget'Ä± yeniden oluÅŸtur
            const existingWidget = document.getElementById('loyalty-widget-container');
            if (existingWidget) {
                existingWidget.remove();
            }

            // Yeni widget oluÅŸtur
            createWidget();
        }

        function createWidget() {
            const container = document.createElement('div');
            container.id = 'loyalty-widget-container';
            container.setAttribute('data-theme', currentTheme);
            container.setAttribute('data-style', currentStyle);
            container.setAttribute('data-position', currentPosition);
            container.className = 'loyalty-widget-wrapper';

            const colors = getThemeColors(currentTheme);

            container.innerHTML = `
                <div class="loyalty-widget-badge" style="background: ${colors.primary}">
                    <div class="badge-content">
                        <div class="points-display">
                            <span class="points-number">${window.LOYALTY_WIDGET_DATA.points}</span>
                            <span class="points-label">Puan</span>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(container);

            // TÄ±klama ile geniÅŸlet
            container.querySelector('.loyalty-widget-badge').addEventListener('click', function () {
                if (container.classList.contains('expanded')) {
                    container.classList.remove('expanded');
                } else {
                    expandWidget(container, colors);
                }
            });
        }

        function expandWidget(container, colors) {
            container.classList.add('expanded');
            const badge = container.querySelector('.loyalty-widget-badge');
            badge.innerHTML = `
                <div class="widget-header">
                    <h3>Sadakat PuanlarÄ±nÄ±z</h3>
                    <button class="close-btn" onclick="closeWidget()">âœ•</button>
                </div>
                <div class="widget-body">
                    <div class="points-big" style="background: ${colors.primary}">
                        <div class="points-number">${window.LOYALTY_WIDGET_DATA.points}</div>
                        <div class="points-label">Puan</div>
                    </div>
                    <div class="tier-info">
                        <div class="tier-label">Seviyeniz: <strong>${window.LOYALTY_WIDGET_DATA.tier}</strong></div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 50%; background: ${colors.secondary}"></div>
                        </div>
                        <div class="next-tier">Sonraki seviye: ${window.LOYALTY_WIDGET_DATA.nextTier} (${window.LOYALTY_WIDGET_DATA.nextTierPoints} puan)</div>
                    </div>
                    <button class="use-points-btn" style="background: ${colors.primary}">
                        ğŸ’ PuanlarÄ± Kullan
                    </button>
                </div>
            `;
        }

        function closeWidget() {
            const container = document.getElementById('loyalty-widget-container');
            container.classList.remove('expanded');
            createWidget();
        }

        function getThemeColors(theme) {
            const themes = {
                light: { primary: '#4F46E5', secondary: '#818CF8' },
                dark: { primary: '#6366F1', secondary: '#4F46E5' },
                gradient: { primary: 'linear-gradient(135deg, #EC4899 0%, #8B5CF6 100%)', secondary: '#8B5CF6' },
                minimal: { primary: '#1F2937', secondary: '#6B7280' }
            };
            return themes[theme] || themes.light;
        }

        function updateActiveButton(type, value) {
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => {
                const onClick = btn.getAttribute('onclick');
                if (onClick && onClick.includes(value)) {
                    btn.classList.add('active');
                } else if (onClick && onClick.includes(`set${type.charAt(0).toUpperCase() + type.slice(1)}`)) {
                    btn.classList.remove('active');
                }
            });
        }

        // Ä°lk widget'Ä± oluÅŸtur
        createWidget();
    </script>
</body>

</html>